{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const gallery = document.querySelector('.gallery');\n\n// gallery.addEventListener(\n//   'click',\n//   handleClick(evt => {})\n// );\n\nexport function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n  <div class=\"img-container\">\n  <a class=\"gallery-link\" href=${largeImageURL}>\n  <img class=\"gallery-image\" src=${webformatURL} data-source=${largeImageURL} alt=${tags}>\n  </a>\n  </div>\n  <div class=\"img-data\">\n  <ul class=\"img-data-list\">\n  <li class=\"img-data-element\">\n  <p class=\"img-data-fetched\">Likes: </p>\n  <p class=\"img-data-fetched\">${likes}</p>\n  </li>\n  <li class=\"img-data-element\">\n  <p class=\"img-data-fetched\">Views: </p>\n  <p class=\"img-data-fetched\">${views}</p>\n  </li>\n  <li class=\"img-data-element\">\n  <p class=\"img-data-fetched\">Comments: </p>\n  <p class=\"img-data-fetched\">${comments}</p>\n  </li>\n  <li class=\"img-data-element\">\n  <p class=\"img-data-fetched\">Downloads: </p>\n  <p class=\"img-data-fetched\">${downloads}</p>\n  </li>\n  </ul>\n  </div>\n  </li>`;\n}\n\nexport function createListMarkup(liArray) {\n  return liArray.map(createMarkup).join('');\n}\n","import { createListMarkup } from './render-functions';\nimport { gallery } from './render-functions';\n\nexport function fetchImageName(query) {\n  const myApiKey = '44934541-86fe3f4b652536370b4b9d239';\n  const url = `https://pixabay.com/api/?key=${myApiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return res.json();\n    })\n    .then(data => {\n      console.log(data);\n      if (data.hits.length === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      const listMarkup = createListMarkup(data.hits);\n      gallery.insertAdjacentHTML('beforeend', listMarkup);\n    })\n    .catch(error => {\n      window.alert(error.message);\n      console.error('Error:', error.message);\n    });\n}\n","import { fetchImageName } from './js/pixabay-api';\nimport { gallery } from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nconst loadingIndicator = document.querySelector('.loading-indicator');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const formKey = event.target;\n  const inputValue = formKey.elements['user-input'].value;\n  if (inputValue === '') {\n    window.alert('Please fill in the form');\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  loadingIndicator.style.display = 'block';\n\n  fetchImageName(inputValue).finally(() => {\n    loadingIndicator.style.display = 'none';\n  });\n\n  form.reset();\n}\n"],"names":["gallery","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createListMarkup","liArray","fetchImageName","query","url","res","data","listMarkup","error","form","loadingIndicator","handleSubmit","event","inputValue"],"mappings":"ssBAAO,MAAMA,EAAU,SAAS,cAAc,UAAU,EAOjD,SAASC,EAAa,CAC3B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,iCAEwBL,CAAa;AAAA,mCACXD,CAAY,gBAAgBC,CAAa,QAAQC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOxDC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,QAKzC,CAEO,SAASC,EAAiBC,EAAS,CACxC,OAAOA,EAAQ,IAAIT,CAAY,EAAE,KAAK,EAAE,CAC1C,CC5CO,SAASU,EAAeC,EAAO,CAEpC,MAAMC,EAAM,qEAA8CD,CAAK,2DAE/D,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MACR,0EACV,EAEM,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CAEZ,GADA,QAAQ,IAAIA,CAAI,EACZA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MACR,0EACV,EAEM,MAAMC,EAAaP,EAAiBM,EAAK,IAAI,EAC7Cf,EAAQ,mBAAmB,YAAagB,CAAU,CACxD,CAAK,EACA,MAAMC,GAAS,CACd,OAAO,MAAMA,EAAM,OAAO,EAC1B,QAAQ,MAAM,SAAUA,EAAM,OAAO,CAC3C,CAAK,CACL,CC3BA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAmB,SAAS,cAAc,oBAAoB,EAEpED,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EADUD,EAAM,OACK,SAAS,YAAY,EAAE,MAClD,GAAIC,IAAe,GAAI,CACrB,OAAO,MAAM,yBAAyB,EACtC,MACD,CAEDtB,EAAQ,UAAY,GAEpBmB,EAAiB,MAAM,QAAU,QAEjCR,EAAeW,CAAU,EAAE,QAAQ,IAAM,CACvCH,EAAiB,MAAM,QAAU,MACrC,CAAG,EAEDD,EAAK,MAAK,CACZ"}